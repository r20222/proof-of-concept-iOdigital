<%- include('./partials/head.ejs') %>

    <div class="flexbox-desktop">
        <!-- onderstaande code voor verschillende achtergronden -->
        <form action="" method="" class="background-buttons">
            <fieldset>
                <legend>Background picker</legend>

                
                <input type="radio" name="background" value="red" id="colour_red" checked>
                <label for="colour_red"></label>
    
                <input type="radio" name="background" value="green" id="colour_green">
                <label for="colour_green"></label>
        
                <input type="radio" name="background" value="blue" id="colour_blue">
                <label for="colour_blue"></label>
          </fieldset>
        </form> 

        <main>

            <h1 class="name"><%- data.name %></h1>
            <h2><%- data.personalia.role %></h2>

            <div class="skills-animation-container">
                <ul class="skills-animation">
                    <% data.skills.forEach(skill=> { %>
                        <li>
                            <%= skill.label %>
                        </li>
                        <% }); %>
                </ul>
            </div>

            <details open>
                <summary class="typewriter">Introduction</summary>
                <p>
                    <%- data.introduction %>
                </p>
            </details>

            <details>
                <summary class="typewriter">Motivation</summary>
                <p>
                    <%- data.motivation %>
                </p>
            </details>

            <details>
                <summary>Skills</summary>
                <div class="skills-flex-container">
                    <ul class="skills-grid-container">
                        <% data.skills.forEach(skill=> { %>
                            <li>
                                <%= skill.label %>
                            </li>
                            <% }); %>
                    </ul>
                    <div class="video-container">
                        <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
                        <lottie-player class="video1" src="https://assets4.lottiefiles.com/packages/lf20_w51pcehl.json"  background="transparent"  speed="1"  style="width: 300px; height: 300px;"  loop autoplay></lottie-player>            
                    
                        <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
                        <lottie-player class="video2" src="https://assets10.lottiefiles.com/packages/lf20_78DCvgGZC7.json"  background="transparent"  speed="1"  style="width: 300px; height: 300px;"  loop autoplay></lottie-player>
                    </div>    
                </div>
            </details>





            <details>
                <summary>Projects via iO</summary>
                <% data.projects.forEach(project=> { %>

                    <!-- Chatgpt heeft mij geholpen de data correct op te halen, het gaat om een unix-tijdstempel -->
                    <!-- Hieronder maak ik een variabel van de nummers die in de json staan (timestamp) -->
                    <!-- vervolgens gebruik je new Date om de timestamp met 1000 te vermenigvuldigen -->
                    <!-- dat doe je omdat je het aantal miliseconden wilt achterhalen omdat js daarmee werkt  -->
                    <!-- in de json wordt het namenlijk in seconden weergegeven -->
                    <!-- toDateString() kan verolgens worden gebruikt om de juiste datum weer te geven zonder tijd erbij -->
                    <!-- Omdat ik alleen de maand en jaar wilde weergeven, gebruik ik de onderstaande code ipv toDateString() -->
                    <% const timestamp=project.startDate %>
                        <% const date=new Date(timestamp * 1000); %>

                            <section>
                                <h4><%- project.role %> at <%- project.company %></h4>
                                <h5 class="group-together">
                                    <%= date.toLocaleString('en-US', { month: 'long' }) %>
                                        <%= date.getFullYear() %> - present
                                </h5>
                                <p>
                                    <%- project.description %>
                                </p>
                                <ul>
                                    <% project.stackAndTechniques.forEach(technique=> { %>
                                        <li>
                                            <%= technique.name %>
                                        </li>
                                        <% }) %>
                                </ul>
                            </section>
                            <% }); %>
            </details>

            <details>
                <summary>Work experience</summary>
                <% data.experience.forEach(experience=> { %>

                    <!-- Voor de startdata -->
                    <% const timestamp=experience.startDate %>
                        <% const date=new Date(timestamp * 1000); %>

                            <!-- Voor de einddata -->
                            <% const endTimestamp=experience.endDate %>
                                <% const endDate=new Date(endTimestamp * 1000); %>

                                    <section>
                                        <h4><%- experience.role %> at <%- experience.company %></h4>
                                        <h5 class="group-together">
                                            <%= date.toLocaleString('en-US', { month: 'long' }) %>
                                                <%= date.getFullYear() %> - <%= endDate.toLocaleString('en-US', {
                                                        month: 'long' }) %>
                                                        <%= endDate.getFullYear() %>
                                        </h5>
                                        <p>
                                            <%- experience.description %>
                                        </p>
                                        <ul>
                                            <% experience.stackAndTechniques.forEach(technique=> { %>
                                                <li>
                                                    <%= technique.name %>
                                                </li>
                                                <% }) %>
                                        </ul>
                                    </section>
                                    <% }) %>
            </details>

            <details>
                <summary>Education</summary>
                <% data.education.forEach(edu=> { %>

                    <!-- Voor de startdata -->
                    <% const timestamp=edu.startDate %>
                        <% const date=new Date(timestamp * 1000); %>

                            <!-- Voor de einddata -->
                            <% const endTimestamp=edu.endDate %>
                                <% const endDate=new Date(endTimestamp * 1000); %>

                                    <section>
                                        <h4><%- edu.name %></h4>
                                        <h5 class="group-together"><%- edu.institute %></h5>
                                        <h6 class="group-together">
                                            <%= date.toLocaleString('en-US', { month: 'long' }) %>
                                                <%= date.getFullYear() %> - <%= endDate.toLocaleString('en-US', {
                                                        month: 'long' }) %>
                                                        <%= endDate.getFullYear() %>
                                        </h6>
                                    </section>
                                    <% }) %>
            </details>

            <details>
                <summary>Languages</summary>
                <% data.languages.forEach(lang=> { %>
                    <section>
                        <% if (lang.language && lang.proficiency) { %>
                            <section>
                                <h4><%- lang.language.name %></h4>
                                <h5 class="group-together"><%- lang.proficiency.name %></h5>
                            </section>
                            <% } %>

                    </section>
                    <% }) %>
            </details>

            <details>
                <summary>Publications</summary>
                <% data.publications.forEach(pub=> { %>
                    <section>
                        <h4><%- pub.title %></h4>
                        <p><%- pub.description %></p>
                        <a href="<%- pub.link %>"><%- pub.link %></a>
                    </section>
                    <% }) %>
            </details>

            <details>
                <summary>Side projects</summary>
                <% data.sideProjects.forEach(side=> { %>
                    <section>
                        <h4><%- side.title %></h4>
                        <p><%- side.description %></p>
                        <a href="<%- side.link %>"><%- side.link %></a>
                    </section>
                    <% }) %>
            </details>

            <details>
                <summary>Social links</summary>
                <section class="socials"></section>
                <% data.socialLinks.forEach(link => { %>
                    <a title="<%- link.linkType %>" class="social-links" href="<%- link.link %>"><i class="bx bxl-<%= link.linkType %>"></i></a>  
                <% }) %>
                </section>
            </details>

        </main>
    </div>

    
    <!-- https://fuzzy-yak-life-jacket.cyclic.app/ -->
    <%- include('./partials/foot.ejs') %>